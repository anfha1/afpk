const a0_0x39170f=a0_0x1ea4;function a0_0x1ea4(_0xbfee48,_0x5ba838){const _0x46611c=a0_0x4661();return a0_0x1ea4=function(_0x1ea4a6,_0x553b5c){_0x1ea4a6=_0x1ea4a6-0x173;let _0x2a629d=_0x46611c[_0x1ea4a6];return _0x2a629d;},a0_0x1ea4(_0xbfee48,_0x5ba838);}(function(_0x4aac5d,_0x58f327){const _0x1994c1=a0_0x1ea4,_0x765cd1=_0x4aac5d();while(!![]){try{const _0x45df97=-parseInt(_0x1994c1(0x195))/0x1*(-parseInt(_0x1994c1(0x179))/0x2)+-parseInt(_0x1994c1(0x18f))/0x3+-parseInt(_0x1994c1(0x1b7))/0x4*(parseInt(_0x1994c1(0x199))/0x5)+-parseInt(_0x1994c1(0x1b3))/0x6*(-parseInt(_0x1994c1(0x189))/0x7)+parseInt(_0x1994c1(0x18d))/0x8+parseInt(_0x1994c1(0x187))/0x9+-parseInt(_0x1994c1(0x193))/0xa*(parseInt(_0x1994c1(0x19c))/0xb);if(_0x45df97===_0x58f327)break;else _0x765cd1['push'](_0x765cd1['shift']());}catch(_0x981da7){_0x765cd1['push'](_0x765cd1['shift']());}}}(a0_0x4661,0x63d1b));import{createRequire as a0_0x5a8d80}from'node:module';const t=a0_0x5a8d80(import.meta[a0_0x39170f(0x1ab)]);import{default as a0_0x10ecf0}from'express';import{default as a0_0x39aee4}from'cors';import{default as a0_0x31d8bf}from'cookie';import{default as a0_0x1a4468}from'cookie-parser';import*as a0_0x271f3d from'socket.io';import{default as a0_0x479a06}from'http-proxy-middleware';import{CryptoJs as a0_0x5b6c45,DateTime as a0_0x553e8a,helper as a0_0x440af5,luxon as a0_0x2b944a,module as a0_0x23aae7}from'af-common-min';import{default as a0_0x30673e}from'sql.js';var d,g,m={},k={};function x(_0x244ad2){const _0x5d573f=a0_0x39170f;var _0x2bea72=k[_0x244ad2];if(void 0x0!==_0x2bea72)return _0x2bea72['exports'];var _0x54d404=k[_0x244ad2]={'exports':{}};return m[_0x244ad2](_0x54d404,_0x54d404[_0x5d573f(0x1a8)],x),_0x54d404[_0x5d573f(0x1a8)];}g=Object[a0_0x39170f(0x18c)]?_0x4b14c6=>Object['getPrototypeOf'](_0x4b14c6):_0x3364fd=>_0x3364fd['__proto__'],x['t']=function(_0x2927f7,_0x4db4f2){const _0x2a69d2=a0_0x39170f;if(0x1&_0x4db4f2&&(_0x2927f7=this(_0x2927f7)),0x8&_0x4db4f2)return _0x2927f7;if('object'==typeof _0x2927f7&&_0x2927f7){if(0x4&_0x4db4f2&&_0x2927f7['__esModule'])return _0x2927f7;if(0x10&_0x4db4f2&&_0x2a69d2(0x188)==typeof _0x2927f7[_0x2a69d2(0x180)])return _0x2927f7;}var _0x195634=Object[_0x2a69d2(0x19a)](null);x['r'](_0x195634);var _0x175f80={};d=d||[null,g({}),g([]),g(g)];for(var _0x424ef8=0x2&_0x4db4f2&&_0x2927f7;(_0x2a69d2(0x17f)==typeof _0x424ef8||_0x2a69d2(0x188)==typeof _0x424ef8)&&!~d[_0x2a69d2(0x17d)](_0x424ef8);_0x424ef8=g(_0x424ef8))Object[_0x2a69d2(0x191)](_0x424ef8)[_0x2a69d2(0x178)](_0x2561be=>_0x175f80[_0x2561be]=()=>_0x2927f7[_0x2561be]);return _0x175f80[_0x2a69d2(0x183)]=()=>_0x2927f7,x['d'](_0x195634,_0x175f80),_0x195634;},x['d']=(_0x531744,_0x4e44c9)=>{const _0x724b8c=a0_0x39170f;for(var _0x2d5df2 in _0x4e44c9)x['o'](_0x4e44c9,_0x2d5df2)&&!x['o'](_0x531744,_0x2d5df2)&&Object[_0x724b8c(0x18b)](_0x531744,_0x2d5df2,{'enumerable':!0x0,'get':_0x4e44c9[_0x2d5df2]});},x['o']=(_0x10df1c,_0x5b3d90)=>Object['prototype'][a0_0x39170f(0x1b6)][a0_0x39170f(0x175)](_0x10df1c,_0x5b3d90),x['r']=_0x4741fa=>{const _0x3050e9=a0_0x39170f;_0x3050e9(0x1b1)!=typeof Symbol&&Symbol[_0x3050e9(0x198)]&&Object[_0x3050e9(0x18b)](_0x4741fa,Symbol['toStringTag'],{'value':_0x3050e9(0x18e)}),Object['defineProperty'](_0x4741fa,_0x3050e9(0x196),{'value':!0x0});};const y=t('path'),b=t('fs');var v=x['t'](b,0x2);const S=a0_0x271f3d,j={...a0_0x440af5,'createFolder':function(_0x2a35bf,_0x2ff575={'recursive':!0x0}){const _0x13769d=a0_0x39170f;(0x0,b[_0x13769d(0x182)])(_0x2a35bf)||(0x0,b[_0x13769d(0x194)])(_0x2a35bf,_0x2ff575);},'getEnvParam':function(_0x99135f={}){const _0x4e2d72=a0_0x39170f;return process['argv'][_0x4e2d72(0x1a6)](0x2)[_0x4e2d72(0x178)](_0x5527ca=>{const _0x263702=_0x4e2d72,[_0x1e155b,_0x1ac876]=_0x5527ca[_0x263702(0x192)]('=');void 0x0!==_0x1ac876?_0x99135f[_0x1e155b]=_0x1ac876:_0x99135f[_0x5527ca]=!0x0;}),_0x99135f;},'afpkBind':function e(_0x5c9ad4,_0x219a69=[a0_0x39170f(0x176),'fs',a0_0x39170f(0x1a0),a0_0x39170f(0x1af),'cors',a0_0x39170f(0x173),a0_0x39170f(0x1a1),a0_0x39170f(0x184),a0_0x39170f(0x1aa),'msgDev',a0_0x39170f(0x1a4),a0_0x39170f(0x19f),a0_0x39170f(0x1b0)],_0x247216=_0x5c9ad4){const _0x53870d=a0_0x39170f;for(const _0x31860d in _0x5c9ad4){if(!_0x5c9ad4[_0x53870d(0x1b6)](_0x31860d)||_0x219a69['includes'](_0x31860d))continue;const _0x4dd64e=_0x5c9ad4[_0x31860d];'function'==typeof _0x4dd64e?_0x5c9ad4[_0x31860d]=_0x4dd64e['bind'](_0x247216):_0x53870d(0x17f)!=typeof _0x4dd64e||null===_0x4dd64e||Array[_0x53870d(0x17c)](_0x4dd64e)||e(_0x4dd64e,[],_0x247216);}return _0x5c9ad4;}},O=t(a0_0x39170f(0x1a2)),P={'socket':!0x0,'express':{'json':!0x0,'cors':{},'static':!0x1},'cookie':{'salt':'superSecretKey','enabled':!0x0},'port':!0x1,'on':{'start':!0x1}},_={...a0_0x23aae7,'Server':class{constructor(){const _0x232323=a0_0x39170f;this[_0x232323(0x19f)]=a0_0x10ecf0(),this['config']={...P},this['refIdSs']=0x0,this[_0x232323(0x1a1)]={'parse'(_0x2d2ffb){const _0x3c4a11=_0x232323;try{const _0x3e804f=a0_0x31d8bf[_0x3c4a11(0x197)](_0x2d2ffb||''),_0x4a2df3={};for(const [_0x42db39,_0x31b11c]of Object[_0x3c4a11(0x1b4)](_0x3e804f))if(_0x31b11c?.[_0x3c4a11(0x174)]('s:')){const _0x4877a9=_0x31b11c[_0x3c4a11(0x1ad)](0x2)[_0x3c4a11(0x192)]('.');0x2===_0x4877a9[_0x3c4a11(0x1a9)]&&(_0x4a2df3[_0x42db39]=_0x4877a9[0x0]);}else _0x4a2df3[_0x42db39]=_0x31b11c;return _0x4a2df3;}catch(_0x198306){return{};}}};}[a0_0x39170f(0x1b2)](){const _0x355923=a0_0x39170f;this[_0x355923(0x177)]||(this[_0x355923(0x177)]={}),void 0x0===this[_0x355923(0x177)]['socket']&&(this[_0x355923(0x177)]['socket']=P[_0x355923(0x186)]),this[_0x355923(0x177)]['express']&&_0x355923(0x17f)==typeof this[_0x355923(0x177)][_0x355923(0x176)]||(this[_0x355923(0x177)]['express']={}),this[_0x355923(0x177)][_0x355923(0x176)][_0x355923(0x18a)]=this[_0x355923(0x177)][_0x355923(0x176)][_0x355923(0x18a)]??P[_0x355923(0x176)]['json'],this[_0x355923(0x177)][_0x355923(0x176)][_0x355923(0x19d)]=this[_0x355923(0x177)][_0x355923(0x176)][_0x355923(0x19d)]??P[_0x355923(0x176)][_0x355923(0x19d)],this[_0x355923(0x177)][_0x355923(0x176)][_0x355923(0x185)]=this['config'][_0x355923(0x176)]['static']??P['express'][_0x355923(0x185)];const _0x5f2bf9=!0x1===this[_0x355923(0x177)]['express']?.[_0x355923(0x1a1)];this['config']['cookie']&&_0x355923(0x17f)==typeof this[_0x355923(0x177)]['cookie']||(this[_0x355923(0x177)][_0x355923(0x1a1)]={}),this[_0x355923(0x177)][_0x355923(0x1a1)][_0x355923(0x1a5)]=this['config'][_0x355923(0x1a1)][_0x355923(0x1a5)]??P[_0x355923(0x1a1)][_0x355923(0x1a5)],this[_0x355923(0x177)][_0x355923(0x1a1)][_0x355923(0x19e)]=!_0x5f2bf9&&(this[_0x355923(0x177)]['cookie']['enabled']??P[_0x355923(0x1a1)][_0x355923(0x19e)]),this[_0x355923(0x177)]['port']=this['config'][_0x355923(0x17a)]??P['port'],this[_0x355923(0x177)]['on']&&_0x355923(0x17f)==typeof this[_0x355923(0x177)]['on']||(this[_0x355923(0x177)]['on']={}),this['config']['on'][_0x355923(0x1a4)]=this[_0x355923(0x177)]['on'][_0x355923(0x1a4)]??P['on']['start'];}['start'](){const _0x3e48bf=a0_0x39170f;if(this[_0x3e48bf(0x1b2)](),this[_0x3e48bf(0x17e)](),this[_0x3e48bf(0x177)]['cookie']['enabled']&&this[_0x3e48bf(0x1b5)](),this[_0x3e48bf(0x1a2)]=(0x0,O[_0x3e48bf(0x1a7)])(this[_0x3e48bf(0x19f)]),this[_0x3e48bf(0x177)][_0x3e48bf(0x186)]){const _0x23701e=_0x3e48bf(0x17f)==typeof this[_0x3e48bf(0x177)]['socket']?this[_0x3e48bf(0x177)][_0x3e48bf(0x186)]:void 0x0;this['io']=new S[(_0x3e48bf(0x184))](this[_0x3e48bf(0x1a2)],_0x23701e);}return this['config'][_0x3e48bf(0x17a)]&&this[_0x3e48bf(0x1a2)][_0x3e48bf(0x190)](this[_0x3e48bf(0x177)][_0x3e48bf(0x17a)],this['config']['on'][_0x3e48bf(0x1a4)]),this;}[a0_0x39170f(0x17e)](){const _0x2b0ac5=a0_0x39170f;this[_0x2b0ac5(0x177)][_0x2b0ac5(0x176)][_0x2b0ac5(0x18a)]&&this[_0x2b0ac5(0x19f)][_0x2b0ac5(0x1a3)](a0_0x10ecf0['json']()),this[_0x2b0ac5(0x19f)][_0x2b0ac5(0x1a3)](a0_0x39aee4(this[_0x2b0ac5(0x177)]['express']['cors'])),this['config'][_0x2b0ac5(0x176)][_0x2b0ac5(0x185)]&&this[_0x2b0ac5(0x19f)][_0x2b0ac5(0x1a3)](a0_0x10ecf0[_0x2b0ac5(0x185)](this[_0x2b0ac5(0x177)][_0x2b0ac5(0x176)]['static']));}['_setupCookieMiddleware'](){const _0x37008d=a0_0x39170f;this[_0x37008d(0x19f)][_0x37008d(0x1a3)](a0_0x1a4468(this['config'][_0x37008d(0x1a1)]['salt'])),this[_0x37008d(0x19f)]['use']((_0x237559,_0x2a5b6d,_0x52531f)=>{const _0x2145b9=_0x37008d,_0x3e928a=_0x237559[_0x2145b9(0x1ae)]?.[_0x2145b9(0x1ac)];if(!_0x3e928a){const _0x20a26b=a0_0x440af5['crypt']['encode'](++this['refIdSs']);_0x2a5b6d[_0x2145b9(0x1a1)](_0x2145b9(0x1ac),_0x20a26b,{'httpOnly':!0x0,'signed':!0x0,'secure':!0x1,'sameSite':_0x2145b9(0x181)});}_0x52531f();});}}},w={'path':y,'fs':v,'express':a0_0x10ecf0,'cors':a0_0x39aee4,'cookieParser':a0_0x1a4468,'cookie':a0_0x31d8bf,'socketIo':S,'httpProxyMiddleware':a0_0x479a06,'DateTime':a0_0x553e8a,'luxon':a0_0x2b944a,'CryptoJs':a0_0x5b6c45,'initSqlJs':a0_0x30673e,'helper':j,'module':_},M={'dev':!0x1,'msgDev'(..._0x17f843){const _0x5ec97f=a0_0x39170f;this[_0x5ec97f(0x19b)]&&console[_0x5ec97f(0x17b)](..._0x17f843);}};export{a0_0x5b6c45 as CryptoJs,a0_0x553e8a as DateTime,M as afpkV2,a0_0x31d8bf as cookie,a0_0x1a4468 as cookieParser,a0_0x39aee4 as cors,w as default,a0_0x10ecf0 as express,j as helper,a0_0x479a06 as httpProxyMiddleware,a0_0x30673e as initSqlJs,a0_0x2b944a as luxon,_ as module,S as socketIo};function a0_0x4661(){const _0x3a5286=['SSID','substring','signedCookies','DateTime','module','undefined','checkConfigServer','26742elUVKG','entries','_setupCookieMiddleware','hasOwnProperty','36mWyQtN','cookieParser','startsWith','call','express','config','forEach','64CebGAB','port','log','isArray','indexOf','_setupExpressMiddleware','object','then','Strict','existsSync','default','Server','static','socket','5166018fuLeeh','function','231hQqjrZ','json','defineProperty','getPrototypeOf','4591480qgAgAu','Module','114093iLiHEQ','listen','getOwnPropertyNames','split','1799600DZAvpP','mkdirSync','5829CoeLnU','__esModule','parse','toStringTag','74920iwCsSW','create','dev','55ubNXhA','cors','enabled','app','path','cookie','http','use','start','salt','slice','createServer','exports','length','afpkBind','url'];a0_0x4661=function(){return _0x3a5286;};return a0_0x4661();}